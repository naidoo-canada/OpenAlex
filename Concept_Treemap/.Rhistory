library(tidyverse)
library(treemapify)
dataDir <- '/Users/rnaidoo/Documents/Canada-Secure/GAC/2022_MDRID/Projects_data/OpenAlex/works_ES_first_auth/CA_col/'
graphicsDir <- '/Users/rnaidoo/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/graphics/'
concepts_fn <- paste0(dataDir, 'works_by_concept_0_ES-CA.csv')
colfunc <- colorRampPalette(c("black", "white"))
#Prepare Data
df_conc <- read.csv(concepts_fn)
View(df_conc)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
View(df_conc)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
View(df_conc)
p <- ggplot(df_conc, aes(area=publications, fill=publications, label=concept)) +
geom_treemap(start='topleft') +
geom_treemap_text(colour = c(rep("white", 6), "#ff96a4", rep("white", 9)),
place = "centre",
size = 32,
grow = FALSE,
start='topleft') +
#scale_fill_gradient(low = '#030933', high = '#235ee8') + #blue ('#030933', '#235ee8', '#c7dfff), #green ('#033311', '#008751', '#ff96a4), #red ('#260601', 'E8112D', 'E8112D), #yellow ('#bf4200', '#F99915', '#F9D615')
labs(title=title_str, subtitle=subtitle_str) +
theme(
plot.title = element_text(hjust=0, size=18, face='bold', family='sans', margin=margin(0,0,6,0)),
plot.subtitle = element_text(hjust=0, size=12, family='sans', margin=margin(0,0,6,0)),
#legend.title = element_text(hjust=0, size=10, face='bold', family='sans', margin=margin(0,0,10,0)),
)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
View(p)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
View(df_conc)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
source("~/Documents/Canada-Secure/GAC/2022_MDRID/Projects/OpenAlex/Concept_Treemap/Concept_Treemap.R", echo=TRUE)
